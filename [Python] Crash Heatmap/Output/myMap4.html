<!DOCTYPE html>
<head>    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_ba85f9a3782849519844d7be128c36ff {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
    <script src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_hm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_leaflet_hm.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css"/>
    
            <script>
                var TDHeatmap = L.TimeDimension.Layer.extend({

            initialize: function(data, options) {
                var heatmapCfg = {
                    radius: 15,
                    maxOpacity: 1.,
                    scaleRadius: false,
                    useLocalExtrema: false,
                    latField: 'lat',
                    lngField: 'lng',
                    valueField: 'count',
                    defaultWeight : 1,
                };
                heatmapCfg = $.extend({}, heatmapCfg, options.heatmapOptions || {});
                var layer = new HeatmapOverlay(heatmapCfg);
                L.TimeDimension.Layer.prototype.initialize.call(this, layer, options);
                this._currentLoadedTime = 0;
                this._currentTimeData = {
                    data: []
                    };
                this.data= data;
                this.defaultWeight = heatmapCfg.defaultWeight || 1;
            },
            onAdd: function(map) {
                L.TimeDimension.Layer.prototype.onAdd.call(this, map);
                map.addLayer(this._baseLayer);
                if (this._timeDimension) {
                    this._getDataForTime(this._timeDimension.getCurrentTime());
                }
            },
            _onNewTimeLoading: function(ev) {
                this._getDataForTime(ev.time);
                return;
            },
            isReady: function(time) {
                return (this._currentLoadedTime == time);
            },
            _update: function() {
                this._baseLayer.setData(this._currentTimeData);
                return true;
            },
            _getDataForTime: function(time) {
                    delete this._currentTimeData.data;
                    this._currentTimeData.data = [];
                    var data = this.data[time-1];
                    for (var i = 0; i < data.length; i++) {
                        this._currentTimeData.data.push({
                                lat: data[i][0],
                                lng: data[i][1],
                                count: data[i].length>2 ? data[i][2] : this.defaultWeight
                            });
                        }
                    this._currentLoadedTime = time;
                    if (this._timeDimension && time == this._timeDimension.getCurrentTime() && !this._timeDimension.isLoading()) {
                        this._update();
                    }
                    this.fire('timeload', {
                        time: time
                    });
                }
        });

        L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
            initialize: function(index, options) {
                var playerOptions = {
                    buffer: 1,
                    minBufferReady: -1
                    };
                options.playerOptions = $.extend({}, playerOptions, options.playerOptions || {});
                L.Control.TimeDimension.prototype.initialize.call(this, options);
                this.index = index;
                },
            _getDisplayDateFormat: function(date){
                return this.index[date.getTime()-1];
                }
            });
            </script>
                
</head>
<body>    
    
            <div class="folium-map" id="map_ba85f9a3782849519844d7be128c36ff" ></div>
        
</body>
<script>    
    
            var map_ba85f9a3782849519844d7be128c36ff = L.map(
                "map_ba85f9a3782849519844d7be128c36ff",
                {
                    center: [27.510855965236594, -97.85893882217665],
                    crs: L.CRS.EPSG3857,
                    zoom: 13,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_f7d78b24bb55430593e5fb218a111234 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_ba85f9a3782849519844d7be128c36ff);
        
    

            var times = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];

            map_ba85f9a3782849519844d7be128c36ff.timeDimension = L.timeDimension(
                {times : times, currentTime: new Date(1)}
            );

            var heat_map_352e41a2570e4637b56e0faf4b585079Control = new L.Control.TimeDimensionCustom(['0 Hours', '1 Hours', '2 Hours', '3 Hours', '4 Hours', '5 Hours', '6 Hours', '7 Hours', '8 Hours', '9 Hours', '10 Hours', '11 Hours', '12 Hours', '13 Hours', '14 Hours', '15 Hours', '16 Hours', '17 Hours', '18 Hours', '19 Hours', '20 Hours', '21 Hours', '22 Hours', '23 Hours'], {
                autoPlay: false,
                backwardButton: true,
                displayDate: true,
                forwardButton: true,
                limitMinimumRange: 5,
                limitSliders: true,
                loopButton: true,
                maxSpeed: 10,
                minSpeed: 0.1,
                playButton: true,
                playReverseButton: true,
                position: "bottomleft",
                speedSlider: true,
                speedStep: 0.1,
                styleNS: "leaflet-control-timecontrol",
                timeSlider: true,
                timeSliderDrapUpdate: false,
                timeSteps: 1
                })
                .addTo(map_ba85f9a3782849519844d7be128c36ff);

                var heat_map_352e41a2570e4637b56e0faf4b585079 = new TDHeatmap([[[27.51054978, -97.85486843], [27.51291942, -97.86319814], [27.49149704, -97.84671021]], [[27.49813287, -97.84278977], [27.50457255, -97.85027636], [27.51505416, -97.84077338], [27.522534999999998, -97.885703]], [[27.491382, -97.855829], [27.52082313, -97.86221164], [27.50232952, -97.85596975], [27.52357239, -97.84089913]], [], [[27.52495937, -97.86933084], [27.51323303, -97.84073424]], [], [[27.52247753, -97.88239139]], [[27.51250534, -97.84351255], [27.49333014, -97.84565143], [27.51600048, -97.85611585], [27.50678516, -97.85598549]], [[27.49629438, -97.85587815], [27.49155903, -97.84667776], [27.51401028, -97.85607476], [27.49119568, -97.86786652], [27.52283754, -97.85619066], [27.51587868, -97.84078979], [27.505611, -97.847138], [27.50680515, -97.84063362], [27.51382534, -97.84670255], [27.52267534, -97.87213254], [27.51571274, -97.85610962], [27.49278781, -97.8459657], [27.49045223, -97.84733867], [27.493906, -97.844871], [27.53054939, -97.86339305], [27.48381562, -97.85122983], [27.53038941, -97.87524979], [27.52283669, -97.85619354]], [[27.49137688, -97.8557663], [27.51559324, -97.86765262], [27.52995689, -97.84053872], [27.51558794, -97.85610852], [27.515611, -97.864708], [27.515634000000002, -97.861717], [27.53053545, -97.86431994], [27.47731405, -97.85456355], [27.50576534, -97.85662254], [27.53035146, -97.87825587], [27.52769534, -97.86652254]], [[27.50679948, -97.85390537], [27.52259534, -97.87643254], [27.46756083, -97.85506491], [27.53076444, -97.83970847], [27.51725349, -97.84079608], [27.51559324, -97.86765262], [27.50711084, -97.85599002], [27.53063318, -97.8560848], [27.50754793, -97.87333199], [27.53063131, -97.85620824], [27.49911761, -97.85591875], [27.49903538, -97.85591804], [27.49096681, -97.85576486], [27.499062800000004, -97.85591828], [27.52281534, -97.85907254], [27.52865329, -97.86951709], [27.48638621, -97.84976676], [27.51155534, -97.87340254], [27.50675472, -97.85586141], [27.49903056, -97.85499543], [27.51586224, -97.84264894], [27.51880511, -97.86259407]], [[27.51370664, -97.85460983], [27.49149704, -97.84671021], [27.51460534, -97.86467254], [27.498957, -97.861575], [27.51968534, -97.87497254], [27.53063688, -97.85586881], [27.49137688, -97.8557663], [27.53802142, -97.85471781], [27.50655534, -97.87759254], [27.50337467, -97.85444121], [27.50694218, -97.84063581], [27.522301399999996, -97.87782112], [27.52278538, -97.86051038], [27.51559324, -97.86765262]], [[27.51544342, -97.87916333], [27.49149704, -97.84671021], [27.50694218, -97.84063581], [27.491355, -97.854715], [27.51571274, -97.85610962], [27.49368436, -97.84544617], [27.53135502, -97.87794981], [27.51096477, -97.85603011], [27.53075218, -97.84025574], [27.52762501, -97.87226891], [27.51456534, -97.87202254], [27.49027905, -97.85575808], [27.491448, -97.847993], [27.52808174, -97.84089008], [27.4929, -97.845381], [27.48381562, -97.85122983], [27.51550865, -97.88225555], [27.52247792, -97.88239140000002], [27.50694218, -97.84063581], [27.51571274, -97.85610962], [27.51571274, -97.85610962], [27.49966034, -97.85592338], [27.53075218, -97.84025574]], [[27.530548, -97.86348571], [27.506677000000003, -97.86591893], [27.49137688, -97.8557663], [27.507651, -97.86528008], [27.52743611, -97.84945698], [27.50774539, -97.85599884], [27.52380534, -97.84686255], [27.491460800000002, -97.84825778], [27.52289582, -97.85618609], [27.49149704, -97.84671021], [27.52854556, -97.87787708], [27.51469541, -97.85608942], [27.52283669, -97.85619354], [27.52283669, -97.85619354], [27.51865534, -97.87697073], [27.522536, -97.885922], [27.49175272, -97.86786853], [27.50432121, -97.86747433], [27.51272588, -97.85604727], [27.51664534, -97.86768254], [27.499009, -97.855897], [27.51567062, -97.86015918]], [[27.50657142, -97.87369616], [27.511863599999998, -97.84070778], [27.49629733, -97.86278254], [27.49137688, -97.8557663], [27.511570000000003, -97.84774399999999], [27.49137688, -97.8557663], [27.52161534, -97.87779254], [27.50489722, -97.85473953], [27.52758739, -97.87757703], [27.49119802, -97.86784876], [27.49017564, -97.84750413], [27.51074548, -97.85602800000001], [27.53318268, -97.83881283], [27.51586435, -97.8407908], [27.53063202, -97.85617065], [27.53061043, -97.85819088], [27.51559324, -97.86765262], [27.51586298, -97.85611362], [27.51555273, -97.87063278], [27.51469541, -97.85608942], [27.51446534, -97.87828254]], [[27.51570606, -97.85672817], [27.491355, -97.854716], [27.515230300000002, -97.85610086], [27.49137633, -97.85581281], [27.491355, -97.854716], [27.52195534, -97.85093255], [27.51785102, -97.85535983], [27.49895848, -97.85967869], [27.53802142, -97.85471781], [27.49895848, -97.85967869], [27.515724, -97.856127], [27.50694218, -97.84063581], [27.505744, -97.854304], [27.51802664, -97.88232564], [27.50780693, -97.85599969], [27.508729, -97.858884], [27.51586864, -97.84193309], [27.5157133, -97.85604947], [27.52651731, -97.88271935], [27.52257534, -97.87783254], [27.510800300000003, -97.85602852], [27.494722999999997, -97.855873], [27.49895848, -97.85967869], [27.52916123, -97.87789946], [27.52966529, -97.84061821], [27.49159534, -97.84003255]], [[27.51569798, -97.85611087], [27.522551, -97.885614], [27.51587868, -97.84078979], [27.51665482, -97.86478981], [27.50774539, -97.85599884], [27.51177593, -97.84070649], [27.491377000000004, -97.85582099999999], [27.49119568, -97.86786652], [27.53074, -97.840203], [27.49137688, -97.8557663], [27.5225, -97.88603499999999], [27.51571274, -97.85610962], [27.51559324, -97.86765262], [27.50692534, -97.84276255], [27.51652534, -97.87771254], [27.51174052, -97.85640176], [27.511490999999996, -97.856032], [27.48394077, -97.85115872], [27.49137536, -97.85546353], [27.52255929, -97.87792349], [27.51565672, -97.85610999], [27.513692, -97.85607900000001], [27.49037733, -97.86785573], [27.527374, -97.85098]], [[27.550248999999997, -97.878438], [27.49394087, -97.84529753], [27.53054939, -97.86339305], [27.52283754, -97.85619066], [27.51567047, -97.85611028], [27.51212345, -97.84778255], [27.51572114, -97.85549413], [27.49118971, -97.86816174], [27.52948158, -97.88387972], [27.50747131, -97.85599503], [27.51550865, -97.88225555], [27.51773534, -97.86328254], [27.54187262, -97.86230456], [27.516690999999998, -97.86325], [27.51147137, -97.85603499], [27.51666427, -97.86342708], [27.52283754, -97.85619066], [27.52586368, -97.89228324], [27.505664000000003, -97.86739399999999], [27.50748971, -97.84064384], [27.53037224, -97.87793542], [27.51469541, -97.85608942], [27.51200881, -97.84070990000001], [27.52977551, -97.85616324], [27.51571274, -97.85610962], [27.51572549, -97.85518559999998]], [[27.49055416, -97.85576079], [27.49149704, -97.84671021], [27.49137688, -97.8557663], [27.491238, -97.86784499999999], [27.51571274, -97.85610962], [27.51564026, -97.86309893], [27.51571274, -97.85610962], [27.530215999999996, -97.88565899999999], [27.522311, -97.895374], [27.491348, -97.855788], [27.491335999999997, -97.855796], [27.51488335, -97.84076971], [27.51572984, -97.85487708], [27.511707, -97.856036], [27.51267076, -97.85604654], [27.49144809, -97.85577273], [27.50694218, -97.84063581], [27.53062939, -97.85639090000001], [27.50658807, -97.87730003], [27.51788534, -97.84893255], [27.48259288, -97.85193354], [27.51291534, -97.85083984], [27.52257534, -97.87783254], [27.5066295, -97.85598332], [27.51258853, -97.85604575], [27.49137688, -97.8557663], [27.491334000000002, -97.855262], [27.517588699999997, -97.87726891], [27.51568267, -97.85899279], [27.49138425, -97.8520309], [27.522508000000002, -97.885879], [27.52256534, -97.88562254], [27.491355, -97.854715], [27.50658534, -97.87331254], [27.52657248, -97.87785254], [27.5156239, -97.86468377]], [[27.50248909, -97.85592651], [27.49142064, -97.85577126], [27.49137688, -97.8557663], [27.515718, -97.856085], [27.49149704, -97.84671021], [27.51666534, -97.86327254], [27.53075218, -97.84025574], [27.49904304, -97.84226618], [27.53075218, -97.84025574], [27.418304, -97.85847199999999], [27.4890717, -97.84816451], [27.511765000000004, -97.85606800000001], [27.52250534, -97.89180254], [27.491463, -97.848456], [27.52854534, -97.87789254], [27.49344237, -97.8455864], [27.52267534, -97.87213254], [27.4890717, -97.84816451], [27.51571274, -97.85610962]], [[27.501773999999997, -97.847497], [27.53037244, -97.87793829], [27.52657534, -97.87785254], [27.51550865, -97.88225555], [27.499001, -97.85589399999999], [27.53384354, -97.87798336], [27.491443, -97.851773], [27.49125532, -97.84685827], [27.53042284, -97.87225511], [27.51465534, -97.85897254], [27.51564887, -97.87768773], [27.512293699999997, -97.85604291]], [[27.51571274, -97.85610962], [27.53075218, -97.84025574], [27.53065951, -97.85454815], [27.53037224, -97.87793539], [27.52273534, -97.86478254], [27.52245534, -97.88717254], [27.51600048, -97.85611585], [27.49850714, -97.85188585], [27.50694218, -97.84063581]], [[27.50419567, -97.84062781], [27.506797, -97.855995], [27.46548713, -97.86428292], [27.51571274, -97.85610962], [27.52421534, -97.88824254], [27.50683594, -97.85598755], [27.530238, -97.84200000000001], [27.491335999999997, -97.855796], [27.51544524, -97.87903992], [27.51559324, -97.86765262]], [[27.52977551, -97.85616324], [27.49000395, -97.85575537], [27.511753000000002, -97.845636], [27.51979534, -97.86330254], [27.52161803, -97.8776071], [27.522890000000004, -97.85618000000001]]],
                {heatmapOptions: {
                        radius: 15,
                        minOpacity: 0,
                        maxOpacity: 0.6,
                        scaleRadius: false,
                        useLocalExtrema: false,
                        defaultWeight: 1,
                        
                    }
                })
                .addTo(map_ba85f9a3782849519844d7be128c36ff);

        
</script>